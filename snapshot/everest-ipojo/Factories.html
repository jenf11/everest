
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2013-09-06
 Rendered using Maven Reflow Skin 1.0.0 (http://andriusvelykis.github.com/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>everest iPOJO Factory Resources | everest</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="../css/bootstrap.min.css" rel="stylesheet" />
		<link href="../css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="../css/docs.css" rel="stylesheet" />
		<link href="../css/reflow-skin.css" rel="stylesheet" />
		
		<link href="http://yandex.st/highlightjs/7.3/styles/github.min.css" rel="stylesheet" />
		
		<link href="../css/lightbox.css" rel="stylesheet" />
		
		<link href="../css/site.css" rel="stylesheet" />
		<link href="../css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
<link rel="stylesheet" href="css/font-awesome.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="css/orange.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="css/style.css"/>
	</head>

	<body class="page-everest-ipojo-factories project-everest" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top navbar-inverse">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html"><span class="color-highlight">OW2 Chameleon</span> ~ Everest</a>
					<div class="nav-collapse">
						<ul class="nav pull-right">
							<li><a href="../downloads.html" title="Download">Download </a></li>
							<li><a href="http://github.com/ow2-chameleon/everest" title="GitHub project" class="externalLink">GitHub project </a></li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="dropdown-submenu">
										<a href="../about.html" title="everest">everest </a>
										<ul class="dropdown-menu">
											<li><a href="../about.html" title="About">About </a></li>
											<li><a href="../downloads.html" title="Downloads">Downloads </a></li>
											<li><a href="../documentation.html" title="Documentation">Documentation </a></li>
											<li><a href="../hello-everest.html" title="Hello Everest!">Hello Everest! </a></li>
										</ul>
									</li>
									<li class="dropdown-submenu">
										<a href="../everest-core/index.html" title="everest-core">everest-core </a>
										<ul class="dropdown-menu">
											<li><a href="../everest-core/index.html" title="Home">Home </a></li>
											<li><a href="../everest-core/getting-started.html" title="Getting Started">Getting Started </a></li>
											<li><a href="../everest-core/concepts.html" title="Concepts">Concepts </a></li>
										</ul>
									</li>
									<li class="dropdown-submenu">
										<a href="../everest-osgi/index.html" title="everest-OSGi">everest-OSGi </a>
										<ul class="dropdown-menu">
											<li><a href="../everest-osgi/index.html" title="Home">Home </a></li>
											<li><a href="../everest-osgi/index.html#tutorials" title="Tutorials">Tutorials </a></li>
											<li><a href="../everest-osgi/index.html#osgi-root-resource" title="Root">Root </a></li>
											<li><a href="../everest-osgi/index.html#bundle" title="Bundles">Bundles </a></li>
											<li><a href="../everest-osgi/index.html#package" title="Packages">Packages </a></li>
											<li><a href="../everest-osgi/index.html#service" title="Services">Services </a></li>
											<li><a href="../everest-osgi/index.html#configuration" title="Configurations">Configurations </a></li>
											<li><a href="../everest-osgi/index.html#log-entry" title="Logs">Logs </a></li>
											<li><a href="../everest-osgi/index.html#deployment-package" title="Deployment Packages">Deployment Packages </a></li>
										</ul>
									</li>
									<li class="dropdown-submenu">
										<a href="index.html" title="everest-iPOJO">everest-iPOJO </a>
										<ul class="dropdown-menu">
											<li><a href="index.html" title="Home">Home </a></li>
											<li><a href="ReferenceCard.html" title="Reference Card">Reference Card </a></li>
											<li><a href="Root.html" title="Root">Root </a></li>
											<li><a href="Instances.html" title="Instances">Instances </a></li>
											<li><a href="ServiceDependencies.html" title="Instance service dependencies">Instance service dependencies </a></li>
											<li><a href="ServiceProvidings.html" title="Instance service providings">Instance service providings </a></li>
											<li class="active"><a href="" title="Factories">Factories </a></li>
											<li><a href="Handlers.html" title="Handlers">Handlers </a></li>
											<li><a href="InstanceDeclarations.html" title="Instance declarations">Instance declarations </a></li>
											<li><a href="TypeDeclarations.html" title="Type declarations">Type declarations </a></li>
											<li><a href="ExtensionDeclarations.html" title="Extension declarations">Extension declarations </a></li>
										</ul>
									</li>
									<li class="dropdown-submenu">
										<a href="../everest-servlet/index.html" title="everest-servlet">everest-servlet </a>
										<ul class="dropdown-menu">
											<li><a href="../everest-servlet/index.html" title="Home">Home </a></li>
										</ul>
									</li>
									<li class="dropdown-submenu">
										<a href="../everest-system/index.html" title="everest-System">everest-System </a>
										<ul class="dropdown-menu">
											<li><a href="../everest-system/index.html" title="Home">Home </a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="../contribution.html" title="Contribute">Contribute </a></li>
									<li><a href="../source-repository.html" title="Sources">Sources </a></li>
									<li><a href="http://github.com/ow2-chameleon/everest/issues/" title="Issues" class="externalLink">Issues </a></li>
									<li><a href="http://github.com/ow2-chameleon/everest" title="Fork on GitHub" class="externalLink">Fork on GitHub </a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="page-header">
 <h1 id="everest_ipojo_factory_resources">everest iPOJO Factory Resources</h1>
</div> 
<p>This is the documentation of the <em>Factory Resources</em> of the everest iPOJO domain. Each factory resource is a representation of an iPOJO component factory.</p> 
<h2 id="path">Path</h2> 
<p><a href="ReferenceCard.html" title="everest iPOJO Reference Card">/ipojo/factory/$name/$version</a> - Where <em>$name</em> stand for the name of the factory, and <em>$version</em> for its version (or <em>null</em> if the factory defines no version).</p> 
<h2 id="supported_operations">Supported operations</h2> 
<ul> 
 <li><strong>READ</strong>: get the current state of the component factory</li> 
 <li><strong>CREATE</strong>: <a href="#how-to-create-instances">create a new instance</a> using the factory</li> 
 <li><strong>DELETE</strong>: destroy the component factory</li> 
</ul> 
<p><em>NOTE: This type of resource is</em> <strong>observable</strong></p> 
<h2 id="metadata">Metadata</h2> 
<ul> 
 <li><strong>name</strong> <em>(string)</em>: The name of the factory.</li> 
 <li><strong>version</strong> <em>(string)</em>: The version of the factory. May be <em>null</em></li> 
 <li><strong>className</strong> <em>(string)</em>: The name of the implementation class of the factory.</li> 
 <li><strong>state</strong> <em>(string)</em>: The current state of the factory. One of <em>{“valid”, “invalid”, “unknown”}</em>.</li> 
 <li><strong>missingHandlers</strong> <em>(list&lt;string&gt;)</em>: The fully qualified names of the missing handlers that are required by the factory.</li> 
</ul> 
<h2 id="relations">Relations</h2> 
<ul> 
 <li><strong>service</strong>: to the Factory OSGi service of the factory</li> 
 <li><strong>bundle</strong>: to the OSGi bundle declaring the factory.</li> 
 <li><strong>declaration</strong>: to the TypeDeclarationResource of the factory.</li> 
 <li><strong>requiredHandler</strong>[$fqn]: to the handlers required by the factory. <em>$fqn</em> stands for the fully qualified name of the targeted HandlerResource.</li> 
 <li><strong>instance</strong>[$name]: to the instances created by the factory. <em>$name</em> stands for the name of the targeted instance.</li> 
</ul> 
<h2 id="supported_adaptations">Supported Adaptations</h2> 
<ul> 
 <li>to <strong>org.apache.felix.ipojo.Factory</strong>.class: to the Factory service object.</li> 
</ul> 
<h2 id="how-tos">HOW-TOs</h2> 
<h3 id="how-to-create-instances">How to create instances</h3> 
<p>The factory resource allows to create component instance of the represented factory. While the semantic of the resource operation could appear a bit weird (from the CRUD’s point of view), it allows you, when you hold the resource of a specific factory, to create an instance very easily.</p> 
<p>All you have to do is to make a <strong>CREATE</strong> request <strong>on the factory resource</strong>. The request parameters will be considered as the wanted configuration for the instance to create. The result of the request will be the resource representing the created instance. If the created instance does not expose the <em>Architecture</em> service (i.e. <em>architecture=“false”</em>), the returned resource is a <a href="Instances.html#fake-instance-resource-wtf" title="Fake instance resource! WTF?">fake instance resource</a>.</p> 
<p>Here is a short example to illustrate instance creation from factory resources:</p> 
<p>Request:</p> 
<pre><code>CREATE /ipojo/factory/Foo/1.2.3.foo
- instance.name=&quot;FooExample&quot;
- fooPrefix=&quot;__example&quot;
</code></pre> 
<p>Result:</p> 
<pre><code class="json">{
  &quot;name&quot;:&quot;FooExample&quot;,
  &quot;factory.name&quot;:&quot;Foo&quot;,
  &quot;factory.version&quot;:&quot;1.2.3.foo&quot;,
  &quot;state&quot;:&quot;valid&quot;,
  &quot;configuration&quot;: {
    &quot;fooPrefix&quot;:&quot;__example&quot;
  },
  ..
}
</code></pre> 
<h2 id="example">Example</h2> 
<p>READ /ipojo/factory/Foo/1.2.3.foo</p> 
<pre><code class="json">{
  &quot;name&quot;:&quot;Foo&quot;,
  &quot;version&quot;:&quot;1.2.3.foo&quot;,
  &quot;className&quot;:&quot;org.ow2.chameleon.everest.ipojo.test.b1.FooProviderImpl&quot;,
  &quot;state&quot;:&quot;valid&quot;,
  &quot;missingHandlers&quot;:[],
  &quot;__relations&quot;: {
    &quot;service&quot;: {
      &quot;href&quot;:&quot;http://localhost:8080/everest/osgi/services/66&quot;,
      &quot;action&quot;:&quot;READ&quot;,
      &quot;name&quot;:&quot;service&quot;,
      &quot;description&quot;:&quot;The Factory OSGi service&quot;,
      &quot;parameters&quot;:[]
    },
    &quot;bundle&quot;: {
      &quot;href&quot;:&quot;http://localhost:8080/everest/osgi/bundles/23&quot;,
      &quot;action&quot;:&quot;READ&quot;,
      &quot;name&quot;:&quot;bundle&quot;,
      &quot;description&quot;:&quot;The declaring OSGi bundle&quot;,
      &quot;parameters&quot;:[]
    },
    &quot;declaration&quot;: {
      &quot;href&quot;:&quot;http://localhost:8080/everest/ipojo/declaration/type/Foo/1.2.3.foo&quot;,
      &quot;action&quot;:&quot;READ&quot;,
      &quot;name&quot;:&quot;declaration&quot;,
      &quot;description&quot;:&quot;The declaration of this factory&quot;,
      &quot;parameters&quot;:[]
    },
    
    &quot;requiredHandler[org.apache.felix.ipojo:properties]&quot;: {
      &quot;href&quot;:&quot;http://localhost:8080/everest/ipojo/handler/org.apache.felix.ipojo/properties&quot;,
      &quot;action&quot;:&quot;READ&quot;,
      &quot;name&quot;:&quot;requiredHandler[org.apache.felix.ipojo:properties]&quot;,
      &quot;description&quot;:&quot;Required handler 'org.apache.felix.ipojo:properties'&quot;,
      &quot;parameters&quot;:[]
    },
    &quot;requiredHandler[org.apache.felix.ipojo:provides]&quot;: {
      &quot;href&quot;:&quot;http://localhost:8080/everest/ipojo/handler/org.apache.felix.ipojo/provides&quot;,
      &quot;action&quot;:&quot;READ&quot;,
      &quot;name&quot;:&quot;requiredHandler[org.apache.felix.ipojo:provides]&quot;,
      &quot;description&quot;:&quot;Required handler 'org.apache.felix.ipojo:provides'&quot;,
      &quot;parameters&quot;:[]
    },
    &quot;requiredHandler[org.apache.felix.ipojo:architecture]&quot;: {
      &quot;href&quot;:&quot;http://localhost:8080/everest/ipojo/handler/org.apache.felix.ipojo/architecture&quot;,
      &quot;action&quot;:&quot;READ&quot;,
      &quot;name&quot;:&quot;requiredHandler[org.apache.felix.ipojo:architecture]&quot;,
      &quot;description&quot;:&quot;Required handler 'org.apache.felix.ipojo:architecture'&quot;,
      &quot;parameters&quot;:[]
    },
    
    &quot;instance[DeclaredFoo123]&quot;: {
      &quot;href&quot;:&quot;http://localhost:8080/everest/ipojo/instance/DeclaredFoo123&quot;,
      &quot;action&quot;:&quot;READ&quot;,&quot;name&quot;:&quot;instance[DeclaredFoo123]&quot;,
      &quot;description&quot;:&quot;Instance 'DeclaredFoo123'&quot;,
      &quot;parameters&quot;:[]
    }
  },
  &quot;__observable&quot;:true
}
</code></pre>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#everest_ipojo_factory_resources" title="everest iPOJO Factory Resources">everest iPOJO Factory Resources <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#path" title="Path">Path</a>
		<li><a href="#supported_operations" title="Supported operations">Supported operations</a>
		<li><a href="#metadata" title="Metadata">Metadata</a>
		<li><a href="#relations" title="Relations">Relations</a>
		<li><a href="#supported_adaptations" title="Supported Adaptations">Supported Adaptations</a>
		<li class="dropdown"><a href="#how-tos" title="HOW-TOs">HOW-TOs <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#how-to-create-instances" title="How to create instances">How to create instances</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li><a href="#example" title="Example">Example</a>
				<li class="divider"></li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li>
							<a href="../about.html" title="everest">everest </a>
						</li>
						<li>
							<a href="../everest-core/index.html" title="everest-core">everest-core </a>
						</li>
						<li>
							<a href="../everest-osgi/index.html" title="everest-OSGi">everest-OSGi </a>
						</li>
						<li>
							<a href="index.html" title="everest-iPOJO">everest-iPOJO </a>
						</li>
						<li>
							<a href="../everest-servlet/index.html" title="everest-servlet">everest-servlet </a>
						</li>
						<li>
							<a href="../everest-system/index.html" title="everest-System">everest-System </a>
						</li>
						<li>
							<a href="http://github.com/ow2-chameleon/everest" title="GitHub project" class="externalLink">GitHub project </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Contribute</li>
						<li>
							<a href="../contribution.html" title="Contribute">Contribute </a>
						</li>
						<li>
							<a href="../source-repository.html" title="Sources">Sources </a>
						</li>
						<li>
							<a href="http://github.com/ow2-chameleon/everest/issues/" title="Issues" class="externalLink">Issues </a>
						</li>
						<li>
							<a href="http://github.com/ow2-chameleon/everest" title="Fork on GitHub" class="externalLink">Fork on GitHub </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Download</li>
						<li>
							<a href="../downloads.html" title="Download">Download </a>
						</li>
						<li>
							<a href="../license.html" title="License">License </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote><span class="color-highlight">OW2 Chameleon Everest</span> ~ Will kick your ass.</blockquote>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2009-2013 <a href="http://ow2.org">OW2 Chameleon</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 1.0-SNAPSHOT. </span><span class="publishDate">Last Published: 2013-09-06. </span></p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- Fallback jQuery loading from Google CDN:
	     http://stackoverflow.com/questions/1014203/best-way-to-use-googles-hosted-jquery-but-fall-back-to-my-hosted-library-on-go -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript">
		if (typeof jQuery == 'undefined')
		{
			document.write(unescape("%3Cscript src='../js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	
	<script src="../js/bootstrap.min.js"></script>
	<script src="../js/lightbox.js"></script>
	<script src="../js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="../js/jquery.ba-bbq.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

	<script src="../js/reflow-skin.js"></script>
	
	</body>
</html>
